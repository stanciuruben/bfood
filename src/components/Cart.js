import { connect } from 'react-redux';
import { updateCartItemAmmount, updateCartExtraAmmount } from '../redux/actions';

const Cart = ({ cart, updateCartItemAmmount, updateCartExtraAmmount }) => (
    <dl id="cart" className="cart" >
        {cart.map( item => (
            <div className="cart__item" key={ 'cart-item' + item.id }>
                <dt className="cart__item__title" >{ item.name }</dt>
                <button className="cart__item__button" onClick={ () => updateCartItemAmmount( 'decrement', item.id ) } >-1</button>
                <p className="cart__item__ammount" >{ item.ammount }</p>
                <button className="cart__item__button" onClick={ () => updateCartItemAmmount( 'increment', item.id ) } >+1</button>
                <button className="cart__item__button--delete" title="Remove Item" >
                    <svg preserveAspectRatio="xMaxYMin meet" viewBox="0 0 512 512">
                        <path d="M 231.48828 8.1992188 
                                 A 36.456 36.456 0 0 0 195.30664 36.855469 
                                 L 192.39062 50.169922 
                                 L 145.7168 39.947266 
                                 A 36.457 36.457 0 0 0 102.30078 67.763672 
                                 L 90.9375 119.65625 
                                 A 8 8 0 0 0 97.037109 129.18359 
                                 L 399.50391 195.41992 
                                 A 8.034 8.034 0 0 0 401.22656 195.60547 
                                 A 8 8 0 0 0 409.0332 189.31641 
                                 L 420.40039 137.42188 
                                 A 36.459 36.459 0 0 0 392.58398 94.007812 
                                 L 345.9082 83.787109 
                                 L 348.82227 70.474609 
                                 A 36.458 36.458 0 0 0 321.00781 27.060547 
                                 L 238.71875 9.0390625 
                                 A 36.456 36.456 0 0 0 231.48828 8.1992188 
                                 z 
                                 M 231.83594 24.214844 
                                 A 20.459 20.459 0 0 1 235.30078 24.669922 
                                 L 317.58789 42.689453 
                                 A 20.459 20.459 0 0 1 333.19727 67.050781 
                                 L 330.28125 80.363281 
                                 L 208.01953 53.591797 
                                 L 210.93555 40.277344 
                                 A 20.459 20.459 0 0 1 231.83594 24.214844 
                                 z 
                                 M 138.83008 55.125 
                                 A 20.458 20.458 0 0 1 142.29492 55.578125 
                                 L 389.1582 109.63867 
                                 A 20.459 20.459 0 0 1 404.76953 134 
                                 L 395.11523 178.07812 
                                 L 108.2793 115.26562 
                                 L 117.93164 71.1875 
                                 A 20.458 20.458 0 0 1 138.83008 55.125 
                                 z 
                                 M 107.92383 196 
                                 A 7.785 7.785 0 0 0 100 203.82031 
                                 L 100 455.02148 
                                 C 100 468.45248 104.69034 480.92022 113.27734 489.94922 
                                 A 44.6 44.6 0 0 0 145.86914 504 
                                 L 325.35156 504 
                                 A 44.361 44.361 0 0 0 357.83203 489.94727 
                                 C 366.41803 480.91527 371 468.44853 371 455.01953 
                                 L 371 203.81836 
                                 A 7.6 7.6 0 0 0 363.30078 196 
                                 L 107.92383 196 
                                 z 
                                 M 116 212 
                                 L 355 212 
                                 L 355 455.01953 
                                 C 355 473.71353 342.42256 488 325.35156 488 
                                 L 145.86914 488 
                                 C 128.80014 488 116 473.71353 116 455.01953 
                                 L 116 212 
                                 z 
                                 M 178.76562 239.46094 
                                 A 8 8 0 0 0 171 247.45703 
                                 L 171 436.23633 
                                 A 8 8 0 0 0 179 444.23633 
                                 A 8 8 0 0 0 187 436.23633 
                                 L 187 247.45703 
                                 A 8 8 0 0 0 178.76562 239.46094 
                                 z 
                                 M 235.76562 239.46094 
                                 A 8 8 0 0 0 228 247.45703 
                                 L 228 436.23633 
                                 A 8 8 0 0 0 236 444.23633 
                                 A 8 8 0 0 0 244 436.23633 
                                 L 244 247.45703 A 8 8 0 0 0 235.76562 239.46094 
                                 z 
                                 M 291.76562 239.46094 
                                 A 8 8 0 0 0 284 247.45703 
                                 L 284 436.23633 A 8 8 0 0 0 292 444.23633 
                                 A 8 8 0 0 0 300 436.23633 L 300 247.45703 
                                 A 8 8 0 0 0 291.76562 239.46094 
                                 z" ></path>
                    </svg>
                </button>
                <div className="cart__item__extras">
                    { item.extras.length > 0 && <p className="cart__item__extras__title" >Extras:</p> }
                    {item.extras.map( extra => (
                        <dd className="cart__item__extra" key={ 'cart-item' + item.id + "__extra" + extra.name } >
                            <p className="cart__item__extra__name" >{ extra.name }</p>
                            <button className="cart__item__extra__button--delete" title="Remove Item" >
                                <svg preserveAspectRatio="xMaxYMin meet" viewBox="0 0 512 512">
                                    <path d="M 231.48828 8.1992188 
                                            A 36.456 36.456 0 0 0 195.30664 36.855469 
                                            L 192.39062 50.169922 
                                            L 145.7168 39.947266 
                                            A 36.457 36.457 0 0 0 102.30078 67.763672 
                                            L 90.9375 119.65625 
                                            A 8 8 0 0 0 97.037109 129.18359 
                                            L 399.50391 195.41992 
                                            A 8.034 8.034 0 0 0 401.22656 195.60547 
                                            A 8 8 0 0 0 409.0332 189.31641 
                                            L 420.40039 137.42188 
                                            A 36.459 36.459 0 0 0 392.58398 94.007812 
                                            L 345.9082 83.787109 
                                            L 348.82227 70.474609 
                                            A 36.458 36.458 0 0 0 321.00781 27.060547 
                                            L 238.71875 9.0390625 
                                            A 36.456 36.456 0 0 0 231.48828 8.1992188 
                                            z 
                                            M 231.83594 24.214844 
                                            A 20.459 20.459 0 0 1 235.30078 24.669922 
                                            L 317.58789 42.689453 
                                            A 20.459 20.459 0 0 1 333.19727 67.050781 
                                            L 330.28125 80.363281 
                                            L 208.01953 53.591797 
                                            L 210.93555 40.277344 
                                            A 20.459 20.459 0 0 1 231.83594 24.214844 
                                            z 
                                            M 138.83008 55.125 
                                            A 20.458 20.458 0 0 1 142.29492 55.578125 
                                            L 389.1582 109.63867 
                                            A 20.459 20.459 0 0 1 404.76953 134 
                                            L 395.11523 178.07812 
                                            L 108.2793 115.26562 
                                            L 117.93164 71.1875 
                                            A 20.458 20.458 0 0 1 138.83008 55.125 
                                            z 
                                            M 107.92383 196 
                                            A 7.785 7.785 0 0 0 100 203.82031 
                                            L 100 455.02148 
                                            C 100 468.45248 104.69034 480.92022 113.27734 489.94922 
                                            A 44.6 44.6 0 0 0 145.86914 504 
                                            L 325.35156 504 
                                            A 44.361 44.361 0 0 0 357.83203 489.94727 
                                            C 366.41803 480.91527 371 468.44853 371 455.01953 
                                            L 371 203.81836 
                                            A 7.6 7.6 0 0 0 363.30078 196 
                                            L 107.92383 196 
                                            z 
                                            M 116 212 
                                            L 355 212 
                                            L 355 455.01953 
                                            C 355 473.71353 342.42256 488 325.35156 488 
                                            L 145.86914 488 
                                            C 128.80014 488 116 473.71353 116 455.01953 
                                            L 116 212 
                                            z 
                                            M 178.76562 239.46094 
                                            A 8 8 0 0 0 171 247.45703 
                                            L 171 436.23633 
                                            A 8 8 0 0 0 179 444.23633 
                                            A 8 8 0 0 0 187 436.23633 
                                            L 187 247.45703 
                                            A 8 8 0 0 0 178.76562 239.46094 
                                            z 
                                            M 235.76562 239.46094 
                                            A 8 8 0 0 0 228 247.45703 
                                            L 228 436.23633 
                                            A 8 8 0 0 0 236 444.23633 
                                            A 8 8 0 0 0 244 436.23633 
                                            L 244 247.45703 A 8 8 0 0 0 235.76562 239.46094 
                                            z 
                                            M 291.76562 239.46094 
                                            A 8 8 0 0 0 284 247.45703 
                                            L 284 436.23633 A 8 8 0 0 0 292 444.23633 
                                            A 8 8 0 0 0 300 436.23633 L 300 247.45703 
                                            A 8 8 0 0 0 291.76562 239.46094 
                                            z" ></path>
                                </svg>
                            </button>
                        </dd>
                    ))}
                </div>
            </div>
        ))}
    </dl>
);

const mapStateToProps = state => ({ cart: state.cart });

const mapDispatchToProps = dispatch => ({ 
    updateCartItemAmmount: ( method, id ) => dispatch( updateCartItemAmmount( method, id ) ),
    updateCartExtraAmmount: ( method, id, extraName ) => dispatch( updateCartExtraAmmount( method, id, extraName ) )
});

export default connect( mapStateToProps, mapDispatchToProps )( Cart );